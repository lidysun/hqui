function telFormat(a,e){return e=e?e:" ",String(a).replace(/(\d{3})(\d{4})(\d{3})/,"$1"+e+"$2"+e+"$3")}function getFileInfo(a,e){a=a.split("?")[0];var t=/([^\.\/\\]+)\.([a-z]+)$/i,i=t.exec(a),n={};return i&&(n.name=i[1],n.type=i[2]),e?n[e]:n}function getParams(a){var e={};return a=a?a:window.location.href,a.replace(/([^\?&=]+)=([^\?&=]*)/gi,function(a,t,i){e[t]=i}),e}function test(){return!0}$(function(){$.fn.placeholder=function(){return"placeholder"in document.createElement("input")?void 0:$(this).each(function(a,e){var t=$(e),i=t.attr("placeholder");t.val(i),t.bind("focus",function(){t.val()==i&&t.val("")}).bind("blur",function(){!t.val()&&t.val(i)})})},$("[placeholder]").placeholder(),$.fn.dropdown=function(a,e){return arguments.length<1&&(a="click"),a instanceof Function&&(e=a,a="click"),$(this).each(function(){var t=$(this),i=t.find(".dropdown-value"),n=(t.find(".dropdown-options"),t.hasClass("active")),s=t.hasClass("disabled")||t.attr("disabled");s||n||t.on(a,function(){t.addClass("active")}).on("mouseleave",function(){t.removeClass("active")}).on("click","dd",function(){var a=$(this),n=a.attr("data-value");i.text(a.text()).attr("data-value",n),t.trigger("mouseleave"),e&&e(n,t)})})},$(".dropdown").dropdown("mouseenter"),$.fn.radio=function(a){return $(this).each(function(){var e=$(this),t=e.closest(".radio-group"),i=e.find("span").attr("data-value"),n=e.hasClass("radio-disabled"),s=e.siblings(".radio"),r=e.siblings(".radio-input");!n&&e.on("click",function(){e.addClass("radio-active").find(".iconfont").html("&#xe655;"),s.removeClass("radio-active").find(".iconfont").html("&#xe6c9;"),r.val(i),a&&a(i,t)})})},$(".radio").radio(function(a,e){console.log("选择了：",a,e)}),$.fn.checkbox=function(a){return $(this).each(function(){var e=$(this),t=e.find(".checkbox"),i=e.find(".checkbox-input"),n=e.find(".checkbox-active"),s=[];n.length&&n.each(function(){var a=$(this);s.push(a.find("span").attr("data-value"))}),t.each(function(){{var t=$(this),n=t.find("span").attr("data-value"),r=t.hasClass("checkbox-disabled");t.siblings(".checkbox")}r||t.on("click",function(){var r=t.hasClass("checkbox-active");r?(t.removeClass("checkbox-active").find(".iconfont").html("&#xe60f;"),s.remove(n)):(t.addClass("checkbox-active").find(".iconfont").html("&#xe612;"),s.push(n)),i.attr("value",s.join(",")),a&&a(s,e)})})})},$(".checkbox-group").checkbox(function(a,e){console.log("选择了：",a,e)}),$.fn.switchItem=function(){return $(this).each(function(){{var a=$(this),e=a.hasClass("disabled"),t=a.find("span"),i=t.attr("data-text").split("/"),n=i[0],s=i[1];a.find("i")}t.text(a.hasClass("switch-active")?s:n),e||a.on("click",function(){var e=a.hasClass("switch-active");t.text(e?n:s),a.toggleClass("switch-active")})})},$(".switch").switchItem(),$.fn.pagination=function(a){return $(this).each(function(){function e(a){var e="",i='<a class="page-item page1">1</a>',n='<a class="page-item page'+l+'">'+l+"</a>",s='<span class="dot">...</span>',o='<a class="prev page-item">'+r.pre+"</a>",c=a||r.index;if(l>r.maxPageBtns){var d=(r.maxPageBtns-3)/2+2,h=l-(r.maxPageBtns-3)/2-1;if(d>=c){for(var u=1;c+3>=u;u++)o+='<a class="page-item page'+u+'">'+u+"</a>";o+=s,o+=n}if(c>d&&h>c){o+=i,o+=s;for(var f=c-3;c+3>=f;f++)o+='<a class="page-item page'+f+'">'+f+"</a>";o+=s,o+=n}if(c>=h){o+=i,o+=s;for(var p=c-3;l>p;p++)o+='<a class="page-item page'+p+'">'+p+"</a>";o+=n}}else for(var v=1;l>=v;v++)o+='<a class="page-item page'+v+'">'+v+"</a>";o+='<a class="next page-item">'+r.next+"</a>",e+=o,t.append($(e)),t.find(".page"+c).addClass("active"),t.find(".page1").hasClass("active")?t.find(".prev").addClass("disabled"):t.find(".prev").removeClass("disabled"),t.find(".page"+l).hasClass("active")?t.find(".next").addClass("disabled"):t.find(".next").removeClass("disabled")}var t=$(this),i=Math.abs(parseInt($(this).attr("data-index"))),n=parseInt($(this).attr("data-num")),s={index:i||1,counts:20,pre:"上一页",next:"下一页",maxPageBtns:9,num:n},r=$.extend({},s,a),l=Math.ceil(r.num/r.counts);t.on("click",".page-item:not(.disabled)",function(){var a=$(this),i=parseInt(t.find(".active").text());a.hasClass("prev")?(r.index=i-1,r.index=r.index<1?1:r.index):a.hasClass("next")?(r.index=i+1,r.index=r.index>l?l:r.index):r.index=parseInt(a.text()),t.html(""),e(r.index)}),r.index>l&&(r.index=l,t.attr("data-index",l)),e(r.index)})},$(".pagination").pagination(),$.fn.number=function(a){return this.each(function(){function e(){for(var a=null,e=o.length,t=e-1;t>=0;t--){var i=parseInt(o[t].num);if(n.val()>=i){a=o[t].price.replace(/[\￥\$]/,"");break}}return a?parseFloat(a):null}function t(a){l.text(a).show(),clearTimeout(e);var e=setTimeout(function(){l.hide()},1500)}var i=$(this),n=i.find(".num"),s=i.find(".minus"),r=i.find(".plus"),l=i.find(".tips"),o=i.attr("data-price")?$.parseJSON(i.attr("data-price")):0,c=i.attr("data-min")-0||1,d=i.attr("data-max")-0,h=i.attr("data-step")-0||1;n.on("change",function(){var n=$(this),l=n.val(),u=/^\d$/g.test(l),f=l%h;if(u||(n.val(l.replace(/^0|[^\d]/g,"")),""===n.val()&&(n.val(c),t("请输入有效数量值！"))),l=n.val()-0,0!==f&&(t("只能是"+h+"的倍数！"),l>c&&(l>h&&n.val(n.val()-f),h>=l&&n.val(h))),c&&(c>l?(s.addClass("disabled"),n.val(c),t("不能小于起订量"+c+"！")):l==c?s.addClass("disabled"):s.removeClass("disabled")),d&&(l>d?(r.addClass("disabled"),n.val(d),t("不能大于最大量"+d+"！")):l==d?r.addClass("disabled"):r.removeClass("disabled")),l=n.val()-0,o){var p=e(),v=(p*l).toFixed(2);i.attr("data-unitPrice",p).attr("data-totalPrice",v),a&&a(i,p,v)}else a&&a(i)}).trigger("change"),i.on("click",".minus",function(){var a=$(this),e=n.val()-0,t=a.hasClass("disabled");t||(n.val(e-h),n.trigger("change"))}).on("click",".plus",function(){var a=$(this),e=n.val()-0,t=a.hasClass("disabled");t||(n.val(e+h),n.trigger("change"))})})},$(".number-item").number(function(a,e,t){$("#j_unitPrice").text(e),$("#j_totalPrice").text(t)}),$.fn.marquee=function(a){return $(this).each(function(){var e=$(this),t={speed:20,direction:"top",visible:1,height:null},i=$.extend({},t,a),n=e.children(".marquee-list"),s=null,r=null,l=n.find(".marquee-item"),o=l.first().outerHeight(!0),c=l.first().outerWidth(!0),d={position:"relative",zIndex:1,overflow:"hidden"};e.css(d),n.css(d);var h="left"===i.direction||"right"===i.direction,u="bottom"===i.direction||"top"===i.direction,f="bottom"===i.direction||"right"===i.direction,p=n.children().clone().addClass("marquee-item-copy");if(f?n.prepend(p):n.append(p),h){var v=n.find(".marquee-item"),m=$('<div style="clear:both;height:0;visibility:hidden;"></div>');e.css({width:c*i.visible}),n.append(m).css({width:c*v.length}),v.css({"float":"left"}),r=n.outerWidth(!0)/2,s=n.outerHeight(!0)}else e.css("height",o*i.visible),s=n.outerHeight(!0)/2,r=n.outerWidth(!0);i.height&&e.css("height",i.height),"bottom"===i.direction&&n.css("marginTop",-s),"right"===i.direction&&n.css("marginLeft",-r);var g={},x=u?"top":"left",b=f?"+=1":"-=1";g[x]=b;var C=function(){n.animate(g,i.speed,"linear",function(){var a=Math.abs(parseInt(n.css(x)));a>(u?s:r)&&n.css(x,0)})};clearInterval(w);var w=window.setInterval(C,1);e.hover(function(){n.stop(!0,!1),clearInterval(w)},function(){w=setInterval(C,i.speed)})})},$(".marquee1").marquee({direction:"top"}),$(".marquee2").marquee({direction:"bottom",visible:2}),$(".marquee3").marquee({direction:"left"}),$(".marquee4").marquee({direction:"right"}),$.fn.slider=function(a){return $(this).each(function(){function e(){return r.is(":animated")?!1:void r.animate({marginLeft:-p*h+"px"},s.speed,function(){g.removeClass("active").eq(p).addClass("active"),p>=d?(p=0,g.first().addClass("active"),$(this).css("marginLeft",0)):0>p&&(p=d-1,$(this).css("marginLeft",-(d-1)*h))})}function t(){clearInterval(f),f=setInterval(function(){p++,e(p)},s.delay)}var i=$(this),n={wrap:".slider-list",item:".slider-item",autoplay:!0,speed:800,delay:2e3,arrow:!1,nav:!1},s=$.extend({},n,a);s.delay=s.delay<=s.speed?s.speed+100:s.delay;var r=i.find(s.wrap),l=r.children(s.item),o=l.first(),c=l.last(),d=l.length,h=o.outerWidth(!0),u=o.outerHeight(!0),f=null,p=0;if(i.css({width:h,position:"relative",zIndex:1,overflow:"hidden"}),r.css({width:(d+2)*h,height:u,position:"relative"}),l.each(function(){var a=$(this).index();$(this).addClass("slider-item-"+a),$(this).attr("data-index",a)}),r.append(o.clone().addClass("slider-item-copy")),r.prepend(c.clone().addClass("slider-item-copy")),r.css("left",-h),s.nav){for(var v='<span class="slider-nav">',m=0;d>m;m++)v+='<i class="nav nav'+m+'" data-index="'+m+'"></i>';v+="</span>",i.append(v),i.find(".nav").first().addClass("active")}var g=i.find(".nav");if(s.arrow){var x='<span class="arrow prev">&lt;</span><span class="arrow next">&gt;</span>';i.append(x)}s.autoplay&&t(),i.hover(function(){clearInterval(f)},function(){s.autoplay&&t()}),i.on("click",".nav",function(){clearInterval(f),p=parseInt($(this).attr("data-index")),e()}),i.on("click",".arrow",function(){clearInterval(f),$(this).hasClass("prev")?p-=1:p+=1,e()})})},$(".slider-container").slider({delay:2e3,nav:!0,arrow:!0}),$.fn.tab=function(a){return $(this).each(function(){var e=$(this),t=e.find(".tab-title"),i=e.find(".tab-item");e.on("click",".tab-title",function(e){var n=$(this),s=n.index();t.removeClass("active"),n.addClass("active"),i.removeClass("active").eq(s).addClass("active"),a&&a(s),e.preventDefault()})})},$(".tab").tab(),$.fn.progress=function(a,e){return $(this).each(function(){var t=$(this),i=a||parseFloat(t.attr("data-value"))+"%";$bar=t.find(".progress-bar"),$bar.css("width",i),e&&$('<span class="progress-txt">'+i+"</span>").appendTo($bar)})},$(".progress").progress(!1,!0),$.fn.collapse=function(a){return $(this).each(function(){function e(a,e){var t=a.find(".collapse-bd"),n=a.find(".collapse-triangle");i.removeClass("active"),s.html("&#xe654;"),a.addClass("active"),n.html("&#xe61d;"),e?(r.hide(),t.show()):(r.slideUp(),t.slideDown())}var t=$(this),i=t.find(".collapse-item"),n=t.find(".collapse-item.active"),s=t.find(".collapse-triangle"),r=t.find(".collapse-bd");e(n,!0),t.on(a,".collapse-hd",function(){var a=$(this).parent(".collapse-item"),t=a.hasClass("active");t||e(a,!1)})})},$(".collapse").collapse("click")}),String.prototype.trim=function(){return this.replace(/(^\s+)|(\s+$)/g,"")},Array.prototype.indexOf=function(a){for(var e=0;e<this.length;e++)if(this[e]==a)return e;return-1},Array.prototype.remove=function(a){var e=this.indexOf(a);return-1!=e&&(this.splice(e,1),this.remove(a)),this},Array.prototype.uniq=function(){this.sort();for(var a=[this[0]],e=1;e<this.length;e++)this[e]!==a[a.length-1]&&a.push(this[e]);return a},Array.prototype.max=function(){return Math.max.apply(null,this)},Array.prototype.min=function(){return Math.min.apply(null,this)};