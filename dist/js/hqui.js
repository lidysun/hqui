function telFormat(e,t){return t=t?t:" ",String(e).replace(/(\d{3})(\d{4})(\d{3})/,"$1"+t+"$2"+t+"$3")}function getFileInfo(e,t){e=e.split("?")[0];var a=/([^\.\/\\]+)\.([a-z]+)$/i,i=a.exec(e),n={};return i&&(n.name=i[1],n.type=i[2]),t?n[t]:n}function getParams(e){var t={};return e=e?e:window.location.href,e.replace(/([^\?&=]+)=([^\?&=]*)/gi,function(e,a,i){t[a]=i}),t}function isType(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}function deepClone(e){var t,a,i=isType(e);t="Array"===i?[]:"Object"===i?{}:t;for(a in e){var n=e[a];("Array"===isType(n)||"Object"===isType(n))&&(n=deepClone(n)),t[a]=n}return t}$(function(){$.fn.placeholder=function(){return"placeholder"in document.createElement("input")?void 0:$(this).each(function(e,t){var a=$(t),i=a.attr("placeholder");a.val(i),a.bind("focus",function(){a.val()==i&&a.val("")}).bind("blur",function(){!a.val()&&a.val(i)})})},$("[placeholder]").placeholder(),$.fn.dropdown=function(e,t){return arguments.length<1&&(e="click"),e instanceof Function&&(t=e,e="click"),$(this).each(function(){var a=$(this),i=a.find(".dropdown-value"),n=(a.find(".dropdown-options"),a.hasClass("active")),s=a.hasClass("disabled")||a.attr("disabled");s||n||a.on(e,function(){a.addClass("active")}).on("mouseleave",function(){a.removeClass("active")}).on("click","dd",function(){var e=$(this),n=e.attr("data-value");i.text(e.text()).attr("data-value",n),a.trigger("mouseleave"),t&&t(n,a)})})},$(".dropdown").dropdown("mouseenter"),$.fn.radio=function(e){return $(this).each(function(){var t=$(this),a=t.closest(".radio-group"),i=t.find("span").attr("data-value"),n=t.hasClass("radio-disabled"),s=t.siblings(".radio"),r=t.siblings(".radio-input");!n&&t.on("click",function(){t.addClass("radio-active").find(".iconfont").html("&#xe655;"),s.removeClass("radio-active").find(".iconfont").html("&#xe6c9;"),r.val(i),e&&e(i,a)})})},$(".radio").radio(function(e,t){console.log("选择了：",e,t)}),$.fn.checkbox=function(e){return $(this).each(function(){var t=$(this),a=t.find(".checkbox"),i=t.find(".checkbox-input"),n=t.find(".checkbox-active"),s=[];n.length&&n.each(function(){var e=$(this);s.push(e.find("span").attr("data-value"))}),a.each(function(){{var a=$(this),n=a.find("span").attr("data-value"),r=a.hasClass("checkbox-disabled");a.siblings(".checkbox")}r||a.on("click",function(){var r=a.hasClass("checkbox-active");r?(a.removeClass("checkbox-active").find(".iconfont").html("&#xe60f;"),s.remove(n)):(a.addClass("checkbox-active").find(".iconfont").html("&#xe612;"),s.push(n)),i.attr("value",s.join(",")),e&&e(s,t)})})})},$(".checkbox-group").checkbox(function(e,t){console.log("选择了：",e,t)}),$.fn.switchItem=function(){return $(this).each(function(){{var e=$(this),t=e.hasClass("disabled"),a=e.find("span"),i=a.attr("data-text").split("/"),n=i[0],s=i[1];e.find("i")}a.text(e.hasClass("switch-active")?s:n),t||e.on("click",function(){var t=e.hasClass("switch-active");a.text(t?n:s),e.toggleClass("switch-active")})})},$(".switch").switchItem(),$.fn.pagination=function(e){return $(this).each(function(){function t(e){var t="",i='<a class="page-item page1">1</a>',n='<a class="page-item page'+l+'">'+l+"</a>",s='<span class="dot">...</span>',d='<a class="prev page-item">'+r.pre+"</a>",o=e||r.index;if(l>r.maxPageBtns){var c=(r.maxPageBtns-3)/2+2,h=l-(r.maxPageBtns-3)/2-1;if(c>=o){for(var p=1;o+3>=p;p++)d+='<a class="page-item page'+p+'">'+p+"</a>";d+=s,d+=n}if(o>c&&h>o){d+=i,d+=s;for(var f=o-3;o+3>=f;f++)d+='<a class="page-item page'+f+'">'+f+"</a>";d+=s,d+=n}if(o>=h){d+=i,d+=s;for(var u=o-3;l>u;u++)d+='<a class="page-item page'+u+'">'+u+"</a>";d+=n}}else for(var v=1;l>=v;v++)d+='<a class="page-item page'+v+'">'+v+"</a>";d+='<a class="next page-item">'+r.next+"</a>",t+=d,a.append($(t)),a.find(".page"+o).addClass("active"),a.find(".page1").hasClass("active")?a.find(".prev").addClass("disabled"):a.find(".prev").removeClass("disabled"),a.find(".page"+l).hasClass("active")?a.find(".next").addClass("disabled"):a.find(".next").removeClass("disabled")}var a=$(this),i=Math.abs(parseInt($(this).attr("data-index"))),n=parseInt($(this).attr("data-num")),s={index:i||1,counts:20,pre:"上一页",next:"下一页",maxPageBtns:9,num:n},r=$.extend({},s,e),l=Math.ceil(r.num/r.counts);a.on("click",".page-item:not(.disabled)",function(){var e=$(this),i=parseInt(a.find(".active").text());e.hasClass("prev")?(r.index=i-1,r.index=r.index<1?1:r.index):e.hasClass("next")?(r.index=i+1,r.index=r.index>l?l:r.index):r.index=parseInt(e.text()),a.html(""),t(r.index)}),r.index>l&&(r.index=l,a.attr("data-index",l)),t(r.index)})},$(".pagination").pagination(),$.fn.number=function(e){return this.each(function(){function t(){for(var e=null,t=d.length,a=t-1;a>=0;a--){var i=parseInt(d[a].num);if(n.val()>=i){e=d[a].price.replace(/[\￥\$]/,"");break}}return e?parseFloat(e):null}function a(e){l.text(e).show(),clearTimeout(t);var t=setTimeout(function(){l.hide()},1500)}var i=$(this),n=i.find(".num"),s=i.find(".minus"),r=i.find(".plus"),l=i.find(".tips"),d=i.attr("data-price")?$.parseJSON(i.attr("data-price")):0,o=i.attr("data-min")-0||1,c=i.attr("data-max")-0,h=i.attr("data-step")-0||1;n.on("change",function(){var n=$(this),l=n.val(),p=/^\d$/g.test(l),f=l%h;if(p||(n.val(l.replace(/^0|[^\d]/g,"")),""===n.val()&&(n.val(o),a("请输入有效数量值！"))),l=n.val()-0,0!==f&&(a("只能是"+h+"的倍数！"),l>o&&(l>h&&n.val(n.val()-f),h>=l&&n.val(h))),o&&(o>l?(s.addClass("disabled"),n.val(o),a("不能小于起订量"+o+"！")):l==o?s.addClass("disabled"):s.removeClass("disabled")),c&&(l>c?(r.addClass("disabled"),n.val(c),a("不能大于最大量"+c+"！")):l==c?r.addClass("disabled"):r.removeClass("disabled")),l=n.val()-0,d){var u=t(),v=(u*l).toFixed(2);i.attr("data-unitPrice",u).attr("data-totalPrice",v),e&&e(i,u,v)}else e&&e(i)}).trigger("change"),i.on("click",".minus",function(){var e=$(this),t=n.val()-0,a=e.hasClass("disabled");a||(n.val(t-h),n.trigger("change"))}).on("click",".plus",function(){var e=$(this),t=n.val()-0,a=e.hasClass("disabled");a||(n.val(t+h),n.trigger("change"))})})},$(".number-item").number(function(e,t,a){$("#j_unitPrice").text(t),$("#j_totalPrice").text(a)}),$.fn.marquee=function(e){return $(this).each(function(){var t=$(this),a={speed:20,direction:"top",visible:1,height:null},i=$.extend({},a,e),n=t.children(".marquee-list"),s=null,r=null,l=n.find(".marquee-item"),d=l.first().outerHeight(!0),o=l.first().outerWidth(!0),c={position:"relative",zIndex:1,overflow:"hidden"};t.css(c),n.css(c);var h="left"===i.direction||"right"===i.direction,p="bottom"===i.direction||"top"===i.direction,f="bottom"===i.direction||"right"===i.direction,u=n.children().clone().addClass("marquee-item-copy");if(f?n.prepend(u):n.append(u),h){var v=n.find(".marquee-item"),g=$('<div style="clear:both;height:0;visibility:hidden;"></div>');t.css({width:o*i.visible}),n.append(g).css({width:o*v.length}),v.css({"float":"left"}),r=n.outerWidth(!0)/2,s=n.outerHeight(!0)}else t.css("height",d*i.visible),s=n.outerHeight(!0)/2,r=n.outerWidth(!0);i.height&&t.css("height",i.height),"bottom"===i.direction&&n.css("marginTop",-s),"right"===i.direction&&n.css("marginLeft",-r);var m={},b=p?"top":"left",x=f?"+=1":"-=1";m[b]=x;var C=function(){n.animate(m,i.speed,"linear",function(){var e=Math.abs(parseInt(n.css(b)));e>(p?s:r)&&n.css(b,0)})};clearInterval(w);var w=window.setInterval(C,1);t.hover(function(){n.stop(!0,!1),clearInterval(w)},function(){w=setInterval(C,i.speed)})})},$(".marquee1").marquee({direction:"top"}),$(".marquee2").marquee({direction:"bottom",visible:2}),$(".marquee3").marquee({direction:"left"}),$(".marquee4").marquee({direction:"right"}),$.fn.slider=function(e){return $(this).each(function(){function t(){return r.is(":animated")?!1:void r.animate({marginLeft:-u*h+"px"},s.speed,function(){m.removeClass("active").eq(u).addClass("active"),u>=c?(u=0,m.first().addClass("active"),$(this).css("marginLeft",0)):0>u&&(u=c-1,$(this).css("marginLeft",-(c-1)*h))})}function a(){clearInterval(f),f=setInterval(function(){u++,t(u)},s.delay)}var i=$(this),n={wrap:".slider-list",item:".slider-item",autoplay:!0,speed:800,delay:2e3,arrow:!1,nav:!1},s=$.extend({},n,e);s.delay=s.delay<=s.speed?s.speed+100:s.delay;var r=i.find(s.wrap),l=r.children(s.item),d=l.first(),o=l.last(),c=l.length,h=d.outerWidth(!0),p=d.outerHeight(!0),f=null,u=0;if(i.css({width:h,position:"relative",zIndex:1,overflow:"hidden"}),r.css({width:(c+2)*h,height:p,position:"relative"}),l.each(function(){var e=$(this).index();$(this).addClass("slider-item-"+e),$(this).attr("data-index",e)}),r.append(d.clone().addClass("slider-item-copy")),r.prepend(o.clone().addClass("slider-item-copy")),r.css("left",-h),s.nav){for(var v='<span class="slider-nav">',g=0;c>g;g++)v+='<i class="nav nav'+g+'" data-index="'+g+'"></i>';v+="</span>",i.append(v),i.find(".nav").first().addClass("active")}var m=i.find(".nav");if(s.arrow){var b='<span class="arrow prev">&lt;</span><span class="arrow next">&gt;</span>';i.append(b)}s.autoplay&&a(),i.hover(function(){clearInterval(f)},function(){s.autoplay&&a()}),i.on("click",".nav",function(){clearInterval(f),u=parseInt($(this).attr("data-index")),t()}),i.on("click",".arrow",function(){clearInterval(f),$(this).hasClass("prev")?u-=1:u+=1,t()})})},$(".slider-container").slider({delay:2e3,nav:!0,arrow:!0}),$.fn.tab=function(e){return $(this).each(function(){var t=$(this),a=t.find(".tab-title"),i=t.find(".tab-item");t.on("click",".tab-title",function(t){var n=$(this),s=n.index();a.removeClass("active"),n.addClass("active"),i.removeClass("active").eq(s).addClass("active"),e&&e(s),t.preventDefault()})})},$(".tab").tab(),$.fn.progress=function(e,t){return $(this).each(function(){var a=$(this),i=e||parseFloat(a.attr("data-value"))+"%";$bar=a.find(".progress-bar"),$bar.css("width",i),t&&$('<span class="progress-txt">'+i+"</span>").appendTo($bar)})},$(".progress").progress(!1,!0),$.fn.collapse=function(e){return $(this).each(function(){function t(e,t){var a=e.find(".collapse-bd"),n=e.find(".collapse-triangle");i.removeClass("active"),s.html("&#xe654;"),e.addClass("active"),n.html("&#xe61d;"),t?(r.hide(),a.show()):(r.slideUp(),a.slideDown())}var a=$(this),i=a.find(".collapse-item"),n=a.find(".collapse-item.active"),s=a.find(".collapse-triangle"),r=a.find(".collapse-bd");t(n,!0),a.on(e,".collapse-hd",function(){var e=$(this).parent(".collapse-item"),a=e.hasClass("active");a||t(e,!1)})})},$(".collapse").collapse("click"),$.fn.table=function(e){return e=e?e:{},$(this).each(function(){{var t=$(this),a=t.find(".table-content-wrap"),i=t.find(".table-body"),n=t.find("colgroup"),s=i.find("thead"),r=s.length?s:i.find("tr").first(),l=r.clone(!0);s.length?i.find("tbody"):i.find("tr").not(":first")}if(t.css("width",r.outerWidth()),e.headFixed){if(!n.length)throw"please place '<colgroup>' element before fixing table head !";t.addClass("table-head-fixed"),a.prepend(l),l.wrap('<div class="table-head-wrap"><table class="table-head"></table></div>'),l.parent(".table-head").prepend(n.prop("outerHTML")),r.css("display","none")}if(e.height){var d=r.outerHeight(!0),o=i.outerHeight(!0);o+d>e.height?e.headFixed?(i.wrap('<div class="table-body-wrap"></div>').parent().css("height",e.height-d-3),l.parent().css("marginRight",17)):a.css("height",e.height-2):a.css("borderRightWidth","0px")}else a.css("borderRightWidth","0px")})},$(".table-default").table(),$(".table-danger").table({height:120}),$(".table-success").table({headFixed:1,height:90})}),String.prototype.trim=function(){return this.replace(/(^\s+)|(\s+$)/g,"")},Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1},Array.prototype.remove=function(e){var t=this.indexOf(e);return-1!=t&&(this.splice(t,1),this.remove(e)),this},Array.prototype.uniq=function(){this.sort();for(var e=[this[0]],t=1;t<this.length;t++)this[t]!==e[e.length-1]&&e.push(this[t]);return e},Array.prototype.max=function(){return Math.max.apply(null,this)},Array.prototype.min=function(){return Math.min.apply(null,this)};